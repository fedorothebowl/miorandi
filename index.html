


<!DOCTYPE html>
<html>
<head>
    <title>AR.js A-Frame Location-based</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js'></script>
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script> 
</head>
<body>

   <!--  <a-scene vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' renderer='antialias: true; alpha: true'>

        <a-camera gps-new-camera='gpsMinDistance: 5' camera></a-camera>-->
    
        <!--  Accademia -->
        <!--  <a-entity position="0 800 0">
            <a-image
                    gps-new-entity-place="latitude: 44.0776781; longitude: 10.1043886"
                    scale="300 300 300" rotation="45 0 0"
                    src="/assets/img/2.png"
                    maxDistance="10"
            ></a-image>

        </a-entity>

        <a-entity position="400 800 400">
            <a-image
                    gps-new-entity-place="latitude: 44.0776781; longitude: 10.1043886"
                    scale="300 300 300" rotation="45 0 0"
                    src="/assets/img/3.png"
                    maxDistance="10"
            ></a-image>
        </a-entity> --> 

        <!-- Casa -->
        <a-scene vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' renderer='antialias: true; alpha: true'>

            <a-camera gps-new-camera='gpsMinDistance: 5'></a-camera>
        
            <!-- Player Entity -->
            <a-entity id="player" look-at="[gps-camera]" follow-gps-camera>                
                <!-- Add any components or child entities for the player -->
            </a-entity>
        
            <!-- House Entity -->
            <a-entity position="0 600 0" look-at="[gps-camera]">
                <a-image 
                    gps-new-entity-place="latitude: 43.86634451161; longitude: 10.272073753967"
                    scale="300 300 300" 
                    src="/assets/img/fedoro_1.png"
                    maxDistance="2"
                ></a-image>
            </a-entity>
            <!-- <a-entity position="0 600 0" look-at="[gps-camera]">
                <a-image 
                    gps-new-entity-place="latitude: 43.866769; longitude: 10.27215"
                    scale="300 300 300" 
                    src="/assets/img/fedoro_2.png"
                    maxDistance="2"
                ></a-image>
            </a-entity> -->
            
            <script>
                AFRAME.registerComponent('follow-gps-camera', {
                    tick: function () {
                        var cameraPosition = this.el.sceneEl.camera.el.getAttribute('position');
                        var housePosition = this.el.getAttribute('position');

                        var rotationY = Math.atan2(cameraPosition.x - housePosition.x, cameraPosition.z - housePosition.z);
                        rotationY = rotationY * (180 / Math.PI);

                        this.el.setAttribute('rotation', '0 ' + rotationY + ' 0');
                    }
                });
            </script>
        <!-- </a-scene>  --> 
        {# <a-entity id="player" ></a-entity> #}

     </a-scene>
    <script>

    </script>
</body>
</html>
